<html>
<head>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>        
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> 
	<script src='threeJS/three.js'></script>
	<script src='threeJS/OrbitControls.js'></script>
	<script src='threeJS/Projector.js'></script>
	<script src='threeJS/OBJLoader.js'></script>
	<script src='threeJS/OBJMTLLoader.js'></script>
	<script src='threeJS/MTLLoader.js'></script>
	<script type="text/javascript" src="threeJS/dat.gui.js"></script>
	<script src='./objects.js'></script>
	<script src='./controls.js'></script>
	<script src='./descriptions.js'></script>
	<script src='./scene.js'></script>

    <!--<script src='threeJS/info.js'></script>-->
	<title>VonNeumann demo app</title>
	<style>
		body { margin: 0; }
		canvas { width: 100%; height: 100% }
        #descriptions {
/*            position: relative;*/
            left: 0;
			top: 0;
/*            top: 75%;*/
            width: 25%;
            height: auto;
/*
            background-color: rgb(10, 3, 10);
            color: white;*/
/*            z-index: 10;*/
            visibility: hidden;
            text-align: center;
            margin-left: 1%;
            margin-top: 1%;
        }
		.modal-header, .modal-body, .modal-footer, .alert-info, .btn {
			padding:9px 15px;
    		border:1px solid #eee;
    		background-color: #000000;
			border-radius: 5px;
			color: white;
		}
	
	</style>
</head>
<body>

   	<div id="ThreeJS" style="position: absolute; left:0px; top:0px"></div>
	
	<script> 
        $(document).ready(function () { 
         $('#infoModal').modal('show'); 
         }); 
    </script> 

	
	<div class="modal fade" id="infoModal" role="dialog"> 
		 <div class="modal-dialog"> 
			 <div class="modal-content "> 
				 <div class="modal-header"> 
					 <button type="button" class="close" data-dismiss="modal">&times;</button> 
					 <h4 class="modal-title">The Vonn Neumann Architecture Demo</h4> 
				 </div> 
				 <div class="modal-body text-justify"> 
					 <p>
					 	This is a 3D representation of a typical laptop. It is designed to be a teaching tool
						for those who want to understand the different parts of a computer. <br><br>
						Controls:<br>
						 -click on an object to select it, this will give a description of what that object is.<br>
						 -in the upper right corner you will find controls to change the field of view, rotation,
						 	expansion, and reset the laptop.<br><br>
						 
						For more information see the github repository <a href="https://github.com/tscott8/VNAness">here</a>
					 </p> 
				 </div> 
				 <div class="modal-footer"> 
					 <button type="button" class="btn btn-default" data-dismiss="modal">GO NUTS!</button> 
				 </div> 
			 </div> 
		</div>
	</div>
	

	
	 <div style="width: 100%; height:25%; position: absolute;">
        <div id="descriptions" class="alert alert-info"></div>
    </div>
	<script type="text/javascript">

		//things to hold things
		var scene, camera, renderer, projector, highlight, savePosition;
        
      	//object
		var topp = new THREE.Object3D();
     	var motherboard = new THREE.Object3D();
		var cpu = new THREE.Object3D();
		var gpu = new THREE.Object3D();
		var ram = new THREE.Object3D();
		var ssd = new THREE.Object3D();
		var battery = new THREE.Object3D();
		var dvd = new THREE.Object3D();
		var bus = new THREE.Object3D();
		var bottom = new THREE.Object3D();
		var laptopFull = new THREE.Object3D();
        
		//gui
		var gui = new dat.GUI();
		
		//nothing is currently selected
		var selected = null;
		
		//run the program
		init();
		setupGui();
		animate();
		
//		//setup all the lighting
//		function threePointLight() {
//			var x;
//			var y;
//			var z;
//			x = y = z = 3;
//			var intense =.5;
//			var color = 0xffffff;
//
//			var directionalLight = new THREE.DirectionalLight( color );
//			directionalLight.position.set(x, y, z).normalize();
//			directionalLight.intensity = intense;
//         	scene.add( directionalLight );//top
//
//         	directionalLight = new THREE.DirectionalLight( color );
//			directionalLight.position.set(-x, -y, -z).normalize();
//			directionalLight.intensity = intense;
//			scene.add(directionalLight);//bottom
//
//			directionalLight = new THREE.DirectionalLight(color);
//			directionalLight.position.set(-x, 0, 0).normalize();
//			directionalLight.intensity = intense;
//			scene.add(directionalLight); //left
//
//			directionalLight = new THREE.DirectionalLight(color);
//			directionalLight.position.set(x, 0, 0).normalize();
//			directionalLight.intensity = intense;
//			scene.add(directionalLight); //right
//
//			var light = new THREE.HemisphereLight( color, 0x000000, intense );
//			scene.add( light );
//         }
//
//		//load all the pieces of the laptop, add them to a container, and add them to the scene
//        function loadObject() {
//         	topp = LoadTop(1,0,-.5);
//         	motherboard = LoadMotherboard(.505,0,0);
//         	cpu = LoadCPU(.85,0,-.25);
//         	gpu = LoadGPU(.85,0,-2.25);
//         	ram = LoadRAM(.25,0,-.25);
//         	ssd = LoadSSD(.4,0,0);
//         	battery = LoadBattery(.45,0,-.1);
//         	dvd = LoadDVD(.4,90,-.15);
//            //bus = LoadBus(1,0,1);
//            bottom = LoadBottom(.875,0,-.5);			
//            laptopFull.add(topp,motherboard,cpu,gpu,ram,ssd,battery,dvd/*,bus*/,bottom);
//            laptopFull.rotation.y = Math.PI / 2;
//            laptopFull.position.y = -2;
//            scene.add(laptopFull);			
//         }
//
//		//setup the GUI and controls
//		function setupGui() {
//			effectController = {	fieldOfView:40 };
//			controls = new function() {
//			this.rotation = 0;
//			this.expand = 0;
//			this.reset = function() { resetLaptop() }
//			}  
//            
//			gui.add(effectController, "fieldOfView", 1.0, 150.0);
//			gui.add(controls, 'rotation', 0.0, 10.0);
//			gui.add(controls, 'expand', 0, 5);
//			gui.add(controls, 'reset').name("Reset Laptop Parameters");
//		}
//
//
//		//initialize all the things
//		function init() {
//			//create a scene
//				scene = new THREE.Scene();
//			//setup the camera
//				camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
//				camera.position.z = -30;
//				camera.position.y = 5;
//			//load objects and light em up
//				loadObject();
//				threePointLight();
//			//set up renderer
//				renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true} );
//				//renderer.shadowMapEnabled = true;
//				renderer.setClearColor( 0xb2b2b2, 1 );
//				renderer.setPixelRatio( window.devicePixelRatio );
//				renderer.setSize( window.innerWidth, window.innerHeight );
//				renderer.sortObjects = false;
//				document.body.appendChild( renderer.domElement );
//
//				// Add OrbitControls so that we can pan around with the mouse.
//				controls = new THREE.OrbitControls(camera, renderer.domElement);
//				controls.target.set(0,0,0);
//			//add an event listener for mouse clicks
//				document.addEventListener( 'mousedown', onDocumentMouseDown, false );
//			}
//   
//
//		// This function is called many times a second.  You do anything that needs to be updated, changed, moved here
//		function animate() {
//			requestAnimationFrame( animate );
//
//			//expand control
//			expand(controls.expand);
//			//reset control
////			if(controls.reset == true)
////			{
////				expand(0);
////				rotate(0);
////				//controls.reset = false;
////				controls.expand = 0;
////				controls.rotation = 0;
////			}
//			//rotate control
//			rotate(controls.rotation);
//
//			// field of view controller updater
//			camera.fov = effectController.fieldOfView;
//			camera.updateProjectionMatrix();		
//
//			// must do these two statements
//			renderer.render( scene, camera ); 
//			//controls.update();
//		}
	
	</script>

</body>
</html>
